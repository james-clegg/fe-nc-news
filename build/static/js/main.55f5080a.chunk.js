(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(e,t,a){e.exports={querySelectorLabel:"QuerySelectors_querySelectorLabel__1QCXj",QueryButton:"QuerySelectors_QueryButton__2Y0L0"}},11:function(e,t,a){e.exports={buttonStyle:"Voter_buttonStyle__3XU-p",buttonText:"Voter_buttonText__1oZ0g"}},13:function(e,t,a){e.exports={userProfileHeader:"UserProfilePage_userProfileHeader__1_xwf",userProfileFullName:"UserProfilePage_userProfileFullName__1gQru",userProfileImage:"UserProfilePage_userProfileImage__NSCoG",articleListFlex:"UserProfilePage_articleListFlex__IVoWr"}},15:function(e,t,a){e.exports={header:"HomePage_header__VkuQq",featuredListFlex:"HomePage_featuredListFlex__3AsMh"}},18:function(e,t,a){e.exports={articleCard:"ArticleCard_articleCard__3shQu",articleCardHeader:"ArticleCard_articleCardHeader__12OJb"}},20:function(e,t,a){e.exports={listOfArticlesHeader:"ListOfArticles_listOfArticlesHeader__3CaG3",articleListFlex:"ListOfArticles_articleListFlex__3sCWQ",articleListGrid:"ListOfArticles_articleListGrid__BPpo-"}},34:function(e,t,a){e.exports={northcodersHeart:"NCheart_northcodersHeart__27pPX"}},36:function(e,t,a){e.exports=a(82)},41:function(e,t,a){},6:function(e,t,a){e.exports={commentHeader:"comments_commentHeader__ql5L_",commentSubheader:"comments_commentSubheader__38xha",commentSuccessMessage:"comments_commentSuccessMessage__x-6FP",newCommentBox:"comments_newCommentBox__1mhRc",listOfComments:"comments_listOfComments__tTnW8",commentItem:"comments_commentItem__1pahU",buttonStyle:"comments_buttonStyle__1BKIt",buttonText:"comments_buttonText__1qif5"}},82:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(19),s=a.n(c),o=a(1),l=a(2),i=a(4),m=a(3),u=a(5),d=(a(41),a(17)),p=function(e){return n.a.createElement("h1",{className:"websiteHeader"},"Northcoders News")},f=a(16),h=a(18),_=a.n(h),b=function(e){var t=e.article,a=t.title,r=t.author,c=t.topic,s=t.comment_count,o=t.article_id,l=t.created_at,i=t.votes;return n.a.createElement("section",{className:_.a.articleCardGrid},n.a.createElement("li",{className:_.a.articleCard},n.a.createElement(d.a,{to:"/articles/".concat(o)},n.a.createElement("h3",{className:_.a.articleCardHeader},a)),n.a.createElement("p",null,"Author: ",r),n.a.createElement("p",null,"Topic: ",c),n.a.createElement("p",null,"Comment count: ",s),n.a.createElement("p",null,"Votes: ",i),n.a.createElement("p",null,"Date posted: ",l.slice(0,9))))},g=a(10),E=a.n(g),v=function(e){return n.a.createElement(n.a.Fragment,null,n.a.createElement("label",{className:E.a.querySelectorLabel},"Sort_by:",n.a.createElement("select",{className:E.a.QueryButton,name:"sort_by",onChange:e.updateQueries},n.a.createElement("option",{value:"created_at"},"Date posted"),n.a.createElement("option",{value:"votes"},"Votes"),n.a.createElement("option",{value:"comment_count"},"Number of comments"))),n.a.createElement("label",{className:E.a.querySelectorLabel},"Order:",n.a.createElement("select",{className:E.a.QueryButton,name:"order",onChange:e.updateQueries},n.a.createElement("option",{value:"desc"},"Descending"),n.a.createElement("option",{value:"asc"},"Ascending"))),n.a.createElement("br",null),n.a.createElement("label",{className:E.a.querySelectorLabel},"Filter by topic:",n.a.createElement("select",{className:E.a.QueryButton,name:"filterByTopic",onChange:e.updateQueries},n.a.createElement("option",{value:""},"No filter"),n.a.createElement("option",{value:"coding"},"Coding"),n.a.createElement("option",{value:"football"},"Football"),n.a.createElement("option",{value:"cooking"},"Cooking"))))},y=a(32),O=a.n(y).a.create({baseURL:"https://jc-nc-news.herokuapp.com/api/"}),A=function(){return O.get("/articles").then(function(e){return e.data.articles})},N=function(e){var t=e.sort_by,a=e.order,r=e.filterByTopic,n=e.author;return O.get("/articles",{params:{sort_by:t,order:a,topic:r,author:n}}).then(function(e){return e.data.articles})},j=function(e,t,a){return e?O.patch("articles/".concat(e),{inc_votes:a}):t?O.patch("comments/".concat(t),{inc_votes:a}):void 0},C=function(e){return O.get("/articles/".concat(e,"/comments")).then(function(e){return e.data.comments})},S=function(e){return O.get("/articles/".concat(e)).then(function(e){return e.data.article})},L=function(e,t,a){return O.post("/articles/".concat(a,"/comments"),{username:e,body:t}).then(function(e){return e.data.comment})},x=function(e){return O.delete("/comments/".concat(e)).then(function(e){return e})},w=function(e){return O.get("/users/".concat(e)).then(function(e){return e.data.user})},F=a(20),k=a.n(F),T=function(e){var t=e.error;return n.a.createElement("p",{className:"ErrorMessage"},"ERROR ",t.status," ",t.msg)},P=function(e){function t(){var e,a;Object(o.a)(this,t);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(n)))).state={articles:[],sort_by:"created_at",filterByTopic:"",order:"desc",error:null},a.getAllTheArticles=function(){A().then(function(e){return a.setState({articles:e})}).catch(function(e){var t=e.response,r=t.data,n=t.status;a.setState({error:{status:n,msg:r.msg}})})},a.updateQueries=function(e){var t=e.target,r=t.name,n=t.value;a.setState(Object(f.a)({},r,n))},a.componentDidUpdate=function(e,t){var r=a.state,n=r.sort_by,c=r.filterByTopic,s=r.order;t.sort_by===n&&t.filterByTopic===c&&t.order===s||N({sort_by:n,order:s,filterByTopic:c}).then(function(e){return a.setState({articles:e})})},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return this.state.error?n.a.createElement(T,{error:this.state.error}):n.a.createElement(n.a.Fragment,null,n.a.createElement("p",{className:k.a.listOfArticlesHeader},"Articles"),n.a.createElement(v,{updateQueries:this.updateQueries}),n.a.createElement("section",{className:k.a.articleListGrid},this.state.articles.map(function(e){return n.a.createElement(b,{article:e,key:e.article_id})})))}},{key:"componentDidMount",value:function(){this.getAllTheArticles()}}]),t}(r.Component),B=a(15),V=a.n(B),D=function(e){return n.a.createElement("p",{className:V.a.header},"Welcome to Northcoders News, ",e.user,"!")},H=function(e){function t(){var e,a;Object(o.a)(this,t);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(n)))).state={articles:"",isLoading:!0,error:null},a.getFeaturedArticles=function(){N({sort_by:"votes",order:"desc"}).then(function(e){a.setState({articles:e.slice(0,3),isLoading:!1})}).catch(function(e){var t=e.response,r=t.data,n=t.status;a.setState({error:{status:n,msg:r.msg},isLoading:!1})})},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.state,t=e.articles,a=e.isLoading,r=e.error;return a?n.a.createElement("p",null,"Loading articles..."):r?n.a.createElement(T,{error:r}):n.a.createElement(n.a.Fragment,null,n.a.createElement("p",{className:V.a.header},"Featured articles:"),n.a.createElement("section",{className:V.a.featuredListFlex},t.map(function(e){return n.a.createElement(b,{article:e,key:e.article_id})})))}},{key:"componentDidMount",value:function(){this.getFeaturedArticles()}}]),t}(r.Component),I=function(e){return n.a.createElement(n.a.Fragment,null,n.a.createElement(D,{user:e.user,className:"websiteHeader"}),";",n.a.createElement(H,null))},Q=a(9),U=a.n(Q),M=a(11),q=a.n(M),G=function(e){function t(){var e,a;Object(o.a)(this,t);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(n)))).voter=function(e,t){var r=a.props,n=r.article_id,c=r.comment_id,s=r.setVotes;j(n,c,t),e+=t,console.log(e),s(e)},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props.currentVotes;return n.a.createElement("div",null,n.a.createElement("button",{className:q.a.voteButton,onClick:function(){return e.voter(t,1)},disabled:t>0},this.props.comment_id?n.a.createElement("p",{className:q.a.buttonText},"Upvote comment!"):n.a.createElement("p",{className:q.a.buttonText},"Upvote article!")),n.a.createElement("button",{className:q.a.voteButton,onClick:function(){return e.voter(t,-1)},disabled:t<0},this.props.comment_id?n.a.createElement("p",{className:q.a.buttonText},"Downvote comment!"):n.a.createElement("p",{className:q.a.buttonText},"Downvote article!")))}}]),t}(r.Component),R=function(e){function t(){var e,a;Object(o.a)(this,t);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(n)))).state={article:"",currentVotes:0,error:null,isLoading:!0},a.getTheArticle=function(){S(a.props.id).then(function(e){a.setState({article:e,isLoading:!1})}).catch(function(e){var t=e.response,r=t.data,n=t.status;a.setState({error:{status:n,msg:r.msg},isLoading:!1})})},a.setVotes=function(e){a.setState({currentVotes:e})},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.state.article,t=e.author,a=e.title,r=e.body,c=e.created_at,s=e.comment_count,o=this.state.article.votes;return this.state.isLoading?n.a.createElement("p",null,"Loading..."):this.state.error?n.a.createElement(T,{error:this.state.error}):n.a.createElement(n.a.Fragment,null,n.a.createElement("section",{className:U.a.SingleArticle},n.a.createElement("h2",{className:U.a.SingleArticleTitle},a),n.a.createElement("p",{className:U.a.bodyOfArticle}," ",r),n.a.createElement("p",{className:U.a.votesOnArticle},"Votes: ",o+=this.state.currentVotes),n.a.createElement("p",{className:U.a.extraInfoOnArticle},"By: ",t),n.a.createElement("p",{className:U.a.extraInfoOnArticle},"Created on: ",c.slice(0,9)),n.a.createElement("p",{className:U.a.extraInfoOnArticle},"Number of comments: ",s),n.a.createElement(G,{article_id:this.props.id,currentVotes:this.state.currentVotes,setVotes:this.setVotes})))}},{key:"componentDidMount",value:function(){this.getTheArticle()}}]),t}(r.Component),W=a(35),Z=a(6),J=a.n(Z),X=function(e){function t(){var e,a;Object(o.a)(this,t);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(n)))).state={currentVotes:0,error:null},a.setVotes=function(e){a.setState({currentVotes:e})},a.deleteComment=function(){var e=a.props.comment.comment_id;x(e).catch(function(e){var t=e.response,r=t.data,n=t.status;a.setState({error:{status:n,msg:r.msg}})}),a.props.removeDeletedCommentFromArray(e)},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.comment,t=e.author,a=e.body,r=e.created_at,c=e.comment_id,s=this.props.comment.votes;return this.state.error?n.a.createElement(T,{error:this.state.error}):n.a.createElement("li",{className:J.a.commentItem},n.a.createElement("p",null," Author: ",t),n.a.createElement("p",null,a),n.a.createElement("p",null,"Created on: ",r.slice(0,9)),n.a.createElement("p",null,"Votes: ",s+=this.state.currentVotes),n.a.createElement(G,{comment_id:c,currentVotes:this.state.currentVotes,setVotes:this.setVotes}),this.props.user===t&&n.a.createElement("button",{className:J.a.buttonText,onClick:this.deleteComment},n.a.createElement("p",{className:J.a.buttonText},"Delete comment!")))}}]),t}(r.Component),z=function(e){function t(){var e,a;Object(o.a)(this,t);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(n)))).state={comment:""},a.handleSubmit=function(e){e.preventDefault();var t=a.state.comment;a.props.addPostedComment(t),a.setState({comment:""})},a.handleChange=function(e){var t=e.target,r=t.name,n=t.value;a.setState(Object(f.a)({},r,n))},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return n.a.createElement(n.a.Fragment,null,n.a.createElement("h3",{className:J.a.commentSubheader},"Post a new comment:"),n.a.createElement("form",{onSubmit:this.handleSubmit},n.a.createElement("p",{className:J.a.commentSubheader},"Comment: "),n.a.createElement("textarea",{className:J.a.newCommentBox,rows:"10",cols:"40",name:"comment",onChange:this.handleChange,value:this.state.comment,required:!0})," ",n.a.createElement("br",null),n.a.createElement("button",{className:J.a.submitButton},n.a.createElement("p",{className:J.a.submitText}),"Submit!")))}}]),t}(r.Component),K=function(e){function t(){var e,a;Object(o.a)(this,t);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(n)))).state={comments:"",isLoading:!0,didDelete:!1,error:null},a.getTheComments=function(){C(a.props.id).then(function(e){a.setState({comments:e,isLoading:!1})}).catch(function(e){var t=e.response,r=t.data,n=t.status;a.setState({error:{status:n,msg:r.msg},isLoading:!1})})},a.addPostedComment=function(e){L(a.props.user,e,a.props.id).then(function(e){a.setState(function(t){return{comments:[e].concat(Object(W.a)(t.comments)),didDelete:!1}})})},a.removeDeletedCommentFromArray=function(e){a.setState(function(t){return{comments:t.comments.filter(function(t){return t.comment_id!==e}),didDelete:!0}})},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return this.state.isLoading?n.a.createElement("p",null,"Loading..."):this.state.error?n.a.createElement(T,{error:this.state.error}):n.a.createElement(n.a.Fragment,null,n.a.createElement("h2",{className:J.a.commentHeader},"Comments"),this.state.didDelete&&n.a.createElement("p",{className:J.a.commentSuccessMessage},"Comment was successfully deleted!"),n.a.createElement(z,{addPostedComment:this.addPostedComment,user:this.props.user}),n.a.createElement("ul",{className:J.a.listOfComments},this.state.comments.map(function(t){return n.a.createElement(X,{comment:t,id:e.props.id,key:t.comment_id,removeDeletedCommentFromArray:e.removeDeletedCommentFromArray,user:e.props.user})})))}},{key:"componentDidMount",value:function(){this.getTheComments()}}]),t}(r.Component),Y=function(e){return n.a.createElement(n.a.Fragment,null,n.a.createElement(R,{id:e.articleID}),n.a.createElement(K,{id:e.articleID,user:e.user}))},$=a(33),ee=function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return n.a.createElement($.slide,null,n.a.createElement("a",{id:"Home",className:"menu-item",href:"/"},"Home"),n.a.createElement("a",{id:"All articles",className:"menu-item",href:"/allArticles"},"All articles"),n.a.createElement("a",{id:"My Profile",className:"menu-item",href:"/users/".concat(this.props.username)},"My profile"))}}]),t}(r.Component),te=a(34),ae=a.n(te),re=function(){return n.a.createElement("img",{src:"https://northcoders.com/images/icons/icon-nc-heart.png",alt:"Northcoders logo with a cartoon heart",className:ae.a.northcodersHeart})},ne=a(13),ce=a.n(ne),se=function(e){function t(){var e,a;Object(o.a)(this,t);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(n)))).state={user:null,isLoading:!0,error:null},a.getInfoAboutUser=function(){w(a.props.username).then(function(e){return a.setState({user:e,isLoading:!1})}).catch(function(e){var t=e.response,r=t.data,n=t.status;a.setState({error:{status:n,msg:r.msg},isLoading:!1})})},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.state,t=e.user,a=e.isLoading,r=e.error;return a?n.a.createElement("p",null,"Loading user..."):r?n.a.createElement(T,{error:r}):n.a.createElement("div",null,n.a.createElement("h1",{className:ce.a.userProfileHeader},"Username: ",t.username),n.a.createElement("p",{className:ce.a.userProfileFullName},"Full name: ",t.name),n.a.createElement("img",{className:ce.a.userProfileImage,src:t.avatar_url,alt:t.username}))}},{key:"componentDidMount",value:function(){this.getInfoAboutUser()}}]),t}(r.Component),oe=function(e){function t(){var e,a;Object(o.a)(this,t);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(n)))).state={articles:"",isLoading:!0,error:null},a.getArticlesByUser=function(){var e={author:a.props.username};N(e).then(function(e){a.setState({articles:e,isLoading:!1})}).catch(function(e){var t=e.response,r=t.data,n=t.status;a.setState({error:{status:n,msg:r.msg},isLoading:!1})})},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.state,t=e.isLoading,a=e.articles,r=e.error;return t?n.a.createElement("p",null,"Loading articles..."):r?n.a.createElement(T,{error:r}):n.a.createElement("section",{className:ce.a.articleListFlex},a.map(function(e){return n.a.createElement(b,{article:e,key:e.article_id})}))}},{key:"componentDidMount",value:function(){this.getArticlesByUser()}}]),t}(r.Component),le=function(e){return n.a.createElement(n.a.Fragment,null,n.a.createElement(se,{username:e.username}),n.a.createElement(oe,{username:e.username}))},ie=function(e){return n.a.createElement("div",{className:"UserIconAndName"},n.a.createElement("span",{className:"iconify","data-icon":"fa-solid:user-alt","data-inline":"false"})," ",n.a.createElement("p",{className:"headerIcon"},e.user))},me=function(e){function t(){var e,a;Object(o.a)(this,t);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(n)))).state={user:"jessjelly"},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{className:"App"},n.a.createElement("div",{className:"headerFlex"},n.a.createElement(ee,{username:this.state.user}),n.a.createElement(ie,{user:this.state.user})),n.a.createElement(p,{user:this.state.user}),n.a.createElement(re,null),n.a.createElement(d.b,null,n.a.createElement(T,{default:!0,error:{status:404,msg:"page not found"}}),n.a.createElement(I,{path:"/",user:this.state.user}),n.a.createElement(P,{path:"/allArticles"}),n.a.createElement(Y,{path:"/articles/:articleID",user:this.state.user}),n.a.createElement(le,{path:"/users/:username"})))}}]),t}(r.Component);s.a.render(n.a.createElement(me,null),document.getElementById("root"))},9:function(e,t,a){e.exports={SingleArticle:"SingleArticle_SingleArticle__1tMZi",SingleArticleTitle:"SingleArticle_SingleArticleTitle__2reCA",bodyOfArticle:"SingleArticle_bodyOfArticle__2_lZR",votesOnArticle:"SingleArticle_votesOnArticle__w7foc",extraInfoOnArticle:"SingleArticle_extraInfoOnArticle__Z2C0P",voteButton:"SingleArticle_voteButton__czSff",buttonText:"SingleArticle_buttonText__3BW3H"}}},[[36,1,2]]]);
//# sourceMappingURL=main.55f5080a.chunk.js.map